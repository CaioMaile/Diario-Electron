<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publicar | Paginando Diário</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body onload="MostrarPaginas()">
    <h1>Paginando Diário</h1>
    <textarea></textarea>
    <button onclick="PublicarPagina()">Publicar!</button>
    <Button onclick="LimparPaginas()">Apagar Páginas!</Button>

    <script>
        function PublicarPagina() {
            const entradaConteudo = document.querySelector("textarea")
            const conteudo = entradaConteudo.value
            const tempo = new Date().toLocaleDateString()
            const resultados = JSON.parse(localStorage.getItem("diario") || "[]")
            resultados.push({ tempo, conteudo })
            const diario = JSON.stringify(resultados)
            localStorage.setItem("diario", diario)
            entradaConteudo.value = null
        }
        function LimparPaginas() {
            localStorage.clear()
        }
        function MostrarPaginas() {
            const campo = document.querySelector("div.paginas")
            const resultados = JSON.parse( localStorage.getItem( "diario") || "[]" )

            for (var resultado of resultados) {
                const pagina = document.createElement("div")
                pagina.setAttribute("class", "pagina")
                const tempo = document.createElement("h2")
                const conteudo = ocument.createElement("p")
                tempo.innerHTML = resultado.tempo
                conteudo.innerHTML = resultado.conteudo
                pagina.appendchild(tempo)
                pagina.appendChild(conteudo)
                campo.appendchild(pagina)
            }
        }
    </script>
</body>
</html>